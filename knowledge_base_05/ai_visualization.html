<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIå¯è§†åŒ– - ä¸´åºŠçŸ¥è¯†åº“</title>
    <!-- ä¾§è¾¹æ JS -->
    <script src="js/sidebar.js"></script>
    <style>
        /* å…¨å±€æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: #f5f5f7;
            color: #1d1d1f;
        }

        /* å¯¼èˆªæ æ ·å¼ */
        .nav-bar {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 48px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .logo {
            font-weight: 600;
            font-size: 20px;
        }

        .user-info {
            display: flex;
            align-items: center;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #0071e3;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            font-weight: 500;
        }

        .username {
            font-weight: 500;
        }

        /* ä¸»å†…å®¹æ ·å¼ */
        .container {
            max-width: 1200px;
            margin: 78px auto 40px;
            padding: 0 20px;
        }

        /* æ¬¢è¿æ ‡é¢˜æ ·å¼ */
        .welcome {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .subtitle {
            font-size: 24px;
            font-weight: 400;
            color: #6e6e73;
            margin-bottom: 40px;
        }

        /* æœç´¢æ¡†æ ·å¼ */
        .search-container {
            margin-bottom: 50px;
        }

        .search-box {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }

        .search-input {
            width: 100%;
            padding: 16px 24px;
            font-size: 18px;
            border-radius: 12px;
            border: none;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            outline: none;
        }

        .search-input:focus {
            box-shadow: 0 0 0 4px rgba(0, 125, 250, 0.2);
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #86868b;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 20px;
        }

        /* é—®é¢˜åŒºåŸŸæ ·å¼ */
        .question-container {
            background-color: white;
            border-radius: 18px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            display: none; /* é»˜è®¤éšè— */
        }

        .question-header {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #0071e3;
        }

        .question-text {
            font-size: 22px;
            font-weight: 500;
            margin-bottom: 20px;
        }

        /* å¯è§†åŒ–ç»“æœåŒºåŸŸ */
        .visualization-container {
            background-color: white;
            border-radius: 18px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
            display: none; /* é»˜è®¤éšè— */
        }

        .visualization-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 24px;
        }

        /* æ ‡ç­¾åˆ‡æ¢æ ·å¼ */
        .tabs {
            display: flex;
            border-bottom: 1px solid #e5e5e5;
            margin-bottom: 24px;
        }

        .tab-item {
            padding: 12px 20px;
            cursor: pointer;
            font-weight: 500;
            color: #6e6e73;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }

        .tab-item:hover {
            color: #0071e3;
        }

        .tab-item.active {
            color: #0071e3;
            border-bottom-color: #0071e3;
        }

        /* å¯è§†åŒ–å†…å®¹åŒºåŸŸ */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* æµç¨‹å›¾æ ·å¼ */
        .flow-chart {
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 12px;
            overflow: auto;
        }

        /* æ€ç»´å¯¼å›¾æ ·å¼ */
        .mind-map {
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 12px;
            min-height: 400px;
        }

        /* æ–‡æœ¬åˆ—è¡¨æ ·å¼ */
        .text-list {
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 12px;
        }

        .text-list ul {
            padding-left: 20px;
        }

        .text-list li {
            margin-bottom: 10px;
            line-height: 1.5;
        }

        /* è¡¨æ ¼æ ·å¼ */
        .data-table {
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 12px;
            overflow: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e5e5e5;
        }

        th {
            background-color: #f0f0f0;
            font-weight: 600;
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        /* å‚è€ƒæ–‡çŒ®æ ·å¼ */
        .references {
            background-color: white;
            border-radius: 18px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            display: none; /* é»˜è®¤éšè— */
        }

        .reference-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .reference-list {
            list-style-type: decimal;
            padding-left: 20px;
        }

        .reference-item {
            margin-bottom: 10px;
            line-height: 1.5;
            color: #3a3a3c;
        }

        .reference-link {
            color: #0071e3;
            text-decoration: none;
        }

        .reference-link:hover {
            text-decoration: underline;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: none;
            text-align: center;
            padding: 40px 0;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #0071e3;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* åº•éƒ¨ä¿¡æ¯ */
        .footer {
            text-align: center;
            padding: 20px;
            color: #86868b;
            font-size: 12px;
        }

        /* çƒ­é—¨æœç´¢è¯æ ·å¼ */
        .popular-searches {
            margin-bottom: 40px;
            background-color: white;
            border-radius: 18px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .popular-searches h3 {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #1d1d1f;
        }

        .search-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .search-tag {
            background-color: #f5f5f7;
            padding: 10px 18px;
            border-radius: 30px;
            font-size: 14px;
            color: #0071e3;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .search-tag:hover {
            background-color: #e0e0e5;
            transform: translateY(-2px);
        }

        /* åŠŸèƒ½å¡ç‰‡æ ·å¼ */
        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .feature-card {
            background-color: white;
            border-radius: 18px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }

        .feature-card h3 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #1d1d1f;
        }

        .feature-card p {
            font-size: 14px;
            color: #6e6e73;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .feature-cards {
                grid-template-columns: 1fr;
            }
            
            .preview-caption {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .preview-caption p {
                max-width: 100%;
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <div class="nav-bar">
        <div class="logo">ä¸´åºŠçŸ¥è¯†åº“</div>
        <div class="user-info" style="cursor: pointer;" onclick="window.location.href='user_profile.html'">
            <img src="photo/çš®å¡ä¸˜åƒç´ .png" class="user-avatar" alt="ç”¨æˆ·å¤´åƒ">
            <div class="username">ä¸»ä»»</div>
        </div>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="container">
        <!-- æ¬¢è¿ä¿¡æ¯ -->
        <h1 class="welcome">AI å¯è§†åŒ–</h1>
        <p class="subtitle">é€šè¿‡AIå¯è§†åŒ–ï¼Œè®©å¤æ‚åŒ»å­¦çŸ¥è¯†ä¸€ç›®äº†ç„¶</p>

        <!-- æœç´¢åŒºåŸŸ -->
        <div class="search-container">
            <div class="search-box">
                <input type="text" id="query-input" class="search-input" placeholder="è¾“å…¥ä¸´åºŠé—®é¢˜ã€ç–¾ç—…ã€è¯Šç–—è·¯å¾„..." value="ç¤¾åŒºè·å¾—æ€§è‚ºç‚çš„è¯Šç–—è·¯å¾„">
                <button id="search-button" class="search-icon">ğŸ”</button>
            </div>
        </div>

        <!-- åˆå§‹ç•Œé¢å†…å®¹ - æ–°å¢ -->
        <div id="initial-content">
            <!-- çƒ­é—¨æœç´¢è¯ -->
            <div class="popular-searches">
                <h3>çƒ­é—¨æœç´¢</h3>
                <div class="search-tags">
                    <span class="search-tag" onclick="setSearchQuery('é«˜è¡€å‹è¯Šç–—æŒ‡å—')">é«˜è¡€å‹è¯Šç–—æŒ‡å—</span>
                    <span class="search-tag" onclick="setSearchQuery('2å‹ç³–å°¿ç—…æ²»ç–—æ–¹æ¡ˆ')">2å‹ç³–å°¿ç—…æ²»ç–—æ–¹æ¡ˆ</span>
                    <span class="search-tag" onclick="setSearchQuery('æ–°å† è‚ºç‚åº·å¤å»ºè®®')">æ–°å† è‚ºç‚åº·å¤å»ºè®®</span>
                    <span class="search-tag" onclick="setSearchQuery('å¿ƒæˆ¿é¢¤åŠ¨æŠ—å‡æ²»ç–—')">å¿ƒæˆ¿é¢¤åŠ¨æŠ—å‡æ²»ç–—</span>
                    <span class="search-tag" onclick="setSearchQuery('æ…¢æ€§é˜»å¡æ€§è‚ºç–¾ç—…')">æ…¢æ€§é˜»å¡æ€§è‚ºç–¾ç—…</span>
                </div>
            </div>

            <!-- åŠŸèƒ½ä»‹ç»å¡ç‰‡ -->
            <div class="feature-cards">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“Š</div>
                    <h3>æ™ºèƒ½æµç¨‹å›¾</h3>
                    <p>å°†å¤æ‚çš„ä¸´åºŠå†³ç­–è¿‡ç¨‹è½¬åŒ–ä¸ºæ¸…æ™°çš„æµç¨‹å›¾ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿç†è§£è¯Šç–—è·¯å¾„</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ§ </div>
                    <h3>æ€ç»´å¯¼å›¾</h3>
                    <p>ä»¥æ”¾å°„çŠ¶ç»“æ„å‘ˆç°åŒ»å­¦çŸ¥è¯†ï¼Œå±•ç¤ºæ¦‚å¿µä¹‹é—´çš„å…³è”ï¼Œä¾¿äºæ•´ä½“æŠŠæ¡</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ’Š</div>
                    <h3>è¯ç‰©æ²»ç–—è¡¨</h3>
                    <p>è¯ç‰©ã€å‰‚é‡ã€é€‚åº”ç—‡ç­‰å…³é”®ä¿¡æ¯ä¸€ç›®äº†ç„¶ï¼Œè¾…åŠ©ä¸´åºŠç”¨è¯å†³ç­–</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">â±ï¸</div>
                    <h3>è¯Šç–—æ—¶é—´è½´</h3>
                    <p>ä»¥æ—¶é—´ä¸ºè½´çº¿ï¼Œå±•ç¤ºç–¾ç—…è¯Šç–—çš„å…³é”®æ—¶é—´èŠ‚ç‚¹å’Œå¹²é¢„æªæ–½</p>
                </div>
            </div>
        </div>

        <!-- åŠ è½½åŠ¨ç”» -->
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p>AIæ­£åœ¨ç”Ÿæˆå¯è§†åŒ–å†…å®¹ï¼Œè¯·ç¨å€™...</p>
        </div>

        <!-- é—®é¢˜åŒºåŸŸ -->
        <div id="question-container" class="question-container">
            <div class="question-header">æ‚¨çš„é—®é¢˜</div>
            <div id="question-text" class="question-text">ç¤¾åŒºè·å¾—æ€§è‚ºç‚çš„è¯Šç–—è·¯å¾„</div>
        </div>

        <!-- å¯è§†åŒ–ç»“æœåŒºåŸŸ -->
        <div id="visualization-container" class="visualization-container">
            <h2 class="visualization-title">AI å›ç­”å¯è§†åŒ–</h2>
            
            <!-- æ ‡ç­¾åˆ‡æ¢ -->
            <div class="tabs">
                <div class="tab-item active" data-tab="flowchart">æµç¨‹å›¾</div>
                <div class="tab-item" data-tab="mindmap">æ€ç»´å¯¼å›¾</div>
                <div class="tab-item" data-tab="table">è¯ç‰©æ²»ç–—</div>
                <div class="tab-item" data-tab="timeline">æ—¶é—´è½´</div>
            </div>

            <!-- å†…å®¹åŒºåŸŸ -->
            <div class="tab-content active" id="flowchart">
                <div class="flow-chart">
                    <!-- ä½¿ç”¨SVGå›¾ç‰‡æ›¿ä»£Mermaidæµç¨‹å›¾ï¼Œå¹¶è°ƒæ•´å¤§å° -->
                    <img src="photo/CAP_diagram.svg" alt="ç¤¾åŒºè·å¾—æ€§è‚ºç‚è¯Šç–—æµç¨‹å›¾" style="width:80%; margin: 0 auto; display: block;">
                </div>
            </div>

            <div class="tab-content" id="mindmap">
                <div class="mind-map">
                    <!-- ä½¿ç”¨SVGå›¾ç‰‡æ›¿ä»£Mermaidæ€ç»´å¯¼å›¾ï¼Œå¹¶è°ƒæ•´å¤§å° -->
                    <img src="photo/CAP_mindmap.svg" alt="ç¤¾åŒºè·å¾—æ€§è‚ºç‚è¯Šç–—æ€ç»´å¯¼å›¾" style="width:75%; margin: 0 auto; display: block;">
                </div>
            </div>

            <div class="tab-content" id="table">
                <div class="data-table">
                    <!-- ç¾åŒ–çš„è¡¨æ ¼æ ‡é¢˜å’Œå†…å®¹ -->
                    <h3 style="margin-bottom: 24px; color: #0071e3; font-size: 20px;">ç¤¾åŒºè·å¾—æ€§è‚ºç‚å¸¸ç”¨æŠ—ç”Ÿç´ æ²»ç–—æ–¹æ¡ˆ</h3>
                    <table style="border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <thead>
                            <tr style="background-color: #f2f7fd;">
                                <th style="padding: 16px; border-bottom: 2px solid #e0e7ff;">ä¸¥é‡ç¨‹åº¦</th>
                                <th style="padding: 16px; border-bottom: 2px solid #e0e7ff;">æ²»ç–—åœºæ‰€</th>
                                <th style="padding: 16px; border-bottom: 2px solid #e0e7ff;">æ¨èæŠ—ç”Ÿç´ </th>
                                <th style="padding: 16px; border-bottom: 2px solid #e0e7ff;">å‰‚é‡</th>
                                <th style="padding: 16px; border-bottom: 2px solid #e0e7ff;">ç–—ç¨‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background-color: #fafafa;">
                                <td rowspan="3" style="padding: 14px; text-align: center; font-weight: 500;">è½»åº¦</td>
                                <td rowspan="3" style="padding: 14px; text-align: center;">é—¨è¯Š</td>
                                <td style="padding: 14px;">é˜¿è«è¥¿æ—</td>
                                <td style="padding: 14px;">500mgï¼Œæ¯8å°æ—¶ä¸€æ¬¡</td>
                                <td style="padding: 14px;">5-7å¤©</td>
                            </tr>
                            <tr style="background-color: #ffffff;">
                                <td style="padding: 14px;">é˜¿å¥‡éœ‰ç´ </td>
                                <td style="padding: 14px;">é¦–æ—¥500mgï¼Œéšå250mgï¼Œæ¯æ—¥ä¸€æ¬¡</td>
                                <td style="padding: 14px;">3-5å¤©</td>
                            </tr>
                            <tr style="background-color: #fafafa;">
                                <td style="padding: 14px;">è«è¥¿æ²™æ˜Ÿ</td>
                                <td style="padding: 14px;">400mgï¼Œæ¯æ—¥ä¸€æ¬¡</td>
                                <td style="padding: 14px;">5-7å¤©</td>
                            </tr>
                            <tr style="background-color: #ffffff;">
                                <td rowspan="2" style="padding: 14px; text-align: center; font-weight: 500;">ä¸­åº¦</td>
                                <td rowspan="2" style="padding: 14px; text-align: center;">æ™®é€šç—…æˆ¿</td>
                                <td style="padding: 14px;">å¤´å­¢æ›²æ¾+é˜¿å¥‡éœ‰ç´ </td>
                                <td style="padding: 14px;">2g/æ—¥ + 500mg/æ—¥</td>
                                <td style="padding: 14px;">7-10å¤©</td>
                            </tr>
                            <tr style="background-color: #fafafa;">
                                <td style="padding: 14px;">å·¦æ°§æ°Ÿæ²™æ˜Ÿ</td>
                                <td style="padding: 14px;">750mgï¼Œæ¯æ—¥ä¸€æ¬¡</td>
                                <td style="padding: 14px;">5-7å¤©</td>
                            </tr>
                            <tr style="background-color: #ffffff;">
                                <td rowspan="2" style="padding: 14px; text-align: center; font-weight: 500;">é‡åº¦</td>
                                <td rowspan="2" style="padding: 14px; text-align: center;">ICU</td>
                                <td style="padding: 14px;">å“Œæ‹‰è¥¿æ—/ä»–å”‘å·´å¦+é˜¿å¥‡éœ‰ç´ </td>
                                <td style="padding: 14px;">4.5gï¼Œæ¯6å°æ—¶ä¸€æ¬¡ + 500mg/æ—¥</td>
                                <td style="padding: 14px;">7-14å¤©</td>
                            </tr>
                            <tr style="background-color: #fafafa;">
                                <td style="padding: 14px;">äºšèƒºåŸ¹å—+å·¦æ°§æ°Ÿæ²™æ˜Ÿ</td>
                                <td style="padding: 14px;">500mgï¼Œæ¯6å°æ—¶ä¸€æ¬¡ + 750mg/æ—¥</td>
                                <td style="padding: 14px;">7-14å¤©</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-content" id="timeline">
                <div class="flow-chart">
                    <!-- ä½¿ç”¨SVGå›¾ç‰‡æ›¿ä»£Mermaidæ—¶é—´è½´ -->
                    <img src="photo/CAP_timeline.svg" alt="ç¤¾åŒºè·å¾—æ€§è‚ºç‚è¯Šç–—æ—¶é—´è½´" style="width:100%;">
                </div>
            </div>
        </div>

        <!-- å‚è€ƒæ–‡çŒ® -->
        <div id="references" class="references">
            <h3 class="reference-title">å‚è€ƒæ–‡çŒ®</h3>
            <ol class="reference-list">
                <li class="reference-item">
                    ä¸­ååŒ»å­¦ä¼šå‘¼å¸ç—…å­¦åˆ†ä¼š. ç¤¾åŒºè·å¾—æ€§è‚ºç‚è¯Šæ–­å’Œæ²»ç–—æŒ‡å—(2016å¹´ç‰ˆ). ä¸­åç»“æ ¸å’Œå‘¼å¸æ‚å¿—, 2016, 39(4): 253-279.
                </li>
                <li class="reference-item">
                    Metlay JP, Waterer GW, Long AC, et al. Diagnosis and Treatment of Adults with Community-acquired Pneumonia. An Official Clinical Practice Guideline of the American Thoracic Society and Infectious Diseases Society of America. Am J Respir Crit Care Med. 2019;200(7):e45-e67.
                </li>
                <li class="reference-item">
                    National Institute for Health and Care Excellence. Pneumonia (community-acquired): antimicrobial prescribing. NICE guideline [NG138]. 2019.
                </li>
                <li class="reference-item">
                    Prina E, Ranzani OT, Torres A. Community-acquired pneumonia. Lancet. 2015;386(9998):1097-1108.
                </li>
                <li class="reference-item">
                    Mandell LA, Wunderink RG, Anzueto A, et al. Infectious Diseases Society of America/American Thoracic Society consensus guidelines on the management of community-acquired pneumonia in adults. Clin Infect Dis. 2007;44 Suppl 2:S27-S72.
                </li>
            </ol>
        </div>
    </div>

    <!-- åº•éƒ¨ä¿¡æ¯ -->
    <div class="footer">
        Â© 2025 ä¸´åºŠçŸ¥è¯†åº“ | ç§‘æŠ€èµ‹èƒ½ | powered by wangzk 
    </div>

    <script>
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            // æ ‡ç­¾åˆ‡æ¢åŠŸèƒ½
            const tabs = document.querySelectorAll('.tab-item');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // ç§»é™¤æ‰€æœ‰æ´»è·ƒçŠ¶æ€
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // æ·»åŠ å½“å‰æ´»è·ƒçŠ¶æ€
                    tab.classList.add('active');
                    const tabId = tab.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // æœç´¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('search-button').addEventListener('click', function() {
                performSearch();
            });
            
            // å›è½¦é”®æœç´¢
            document.getElementById('query-input').addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    performSearch();
                }
            });
            
            // æœç´¢å‡½æ•°
            function performSearch() {
                // è·å–è¾“å…¥å†…å®¹
                const query = document.getElementById('query-input').value.trim();
                
                if (query === '') {
                    alert('è¯·è¾“å…¥æœç´¢å†…å®¹');
                    return;
                }
                
                // éšè—åˆå§‹ç•Œé¢å†…å®¹
                document.getElementById('initial-content').style.display = 'none';
                
                // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
                document.getElementById('loading').style.display = 'block';
                
                // éšè—ä»»ä½•å·²ç»æ˜¾ç¤ºçš„ç»“æœ
                document.getElementById('question-container').style.display = 'none';
                document.getElementById('visualization-container').style.display = 'none';
                document.getElementById('references').style.display = 'none';
                
                // æ›´æ–°é—®é¢˜æ–‡æœ¬
                document.getElementById('question-text').textContent = query + '?';
                
                // æ¨¡æ‹ŸAPIè¯·æ±‚å»¶è¿Ÿ - ä¸¥æ ¼ç­‰å¾…2ç§’åæ‰æ˜¾ç¤ºç»“æœ
                setTimeout(function() {
                    // éšè—åŠ è½½åŠ¨ç”»
                    document.getElementById('loading').style.display = 'none';
                    
                    // æ˜¾ç¤ºç»“æœ
                    document.getElementById('question-container').style.display = 'block';
                    document.getElementById('visualization-container').style.display = 'block';
                    document.getElementById('references').style.display = 'block';
                    
                    // æ¨¡æ‹Ÿä¸åŒæœç´¢è¯çš„ä¸åŒç»“æœ
                    if (query.toLowerCase().includes('ç³–å°¿ç—…')) {
                        // è¿™é‡Œå¯ä»¥æ ¹æ®ä¸åŒçš„æŸ¥è¯¢æ˜¾ç¤ºä¸åŒçš„ç»“æœ
                    }
                }, 2000); // ç¡®ä¿ä¸¥æ ¼ç­‰å¾…2ç§’
            }
            
            // æ·»åŠ è®¾ç½®æœç´¢æŸ¥è¯¢çš„å‡½æ•°
            window.setSearchQuery = function(query) {
                document.getElementById('query-input').value = query;
                document.getElementById('search-button').click();
            };
            
            // é¡µé¢åŠ è½½æ—¶ä¸è‡ªåŠ¨æ˜¾ç¤ºå†…å®¹ï¼Œéœ€è¦æœç´¢åæ‰æ˜¾ç¤º
            // ç§»é™¤ä¸‹é¢ä¸‰è¡Œï¼Œä½¿åˆå§‹çŠ¶æ€ä¸ºç©ºç™½
            // document.getElementById('question-container').style.display = 'block';
            // document.getElementById('visualization-container').style.display = 'block';
            // document.getElementById('references').style.display = 'block';
        });
    </script>
</body>
</html>
